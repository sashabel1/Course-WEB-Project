<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Reset your HistoryFlow account password." />
    
    <!-- Open Graph Tags -->
    <meta property="og:title" content="HistoryFlow - Password Recovery" />
    <meta property="og:description" content="Reset your HistoryFlow account password securely." />
    <meta property="og:image" content="/HistoryFlow/assets/images/historyflow-social.jpg" />
    <meta property="og:url" content="historyflow.example.com/forgot_password.html" />
    <meta property="og:type" content="website" />
    
    <title>HistoryFlow â€“ Password Recovery</title>
    
    <!-- External CSS -->
    <link rel="stylesheet" href="/HistoryFlow/src/output.css">
    <link rel="stylesheet" href="/HistoryFlow/src/styles/forgot_password.css">
    <link rel="stylesheet" href="/HistoryFlow/src/styles/login.css">
    <script src="/HistoryFlow/src/logic/forgot_password.js"></script>
</head>
<body class="bg-[#F2EFE7] text-[#006A71] min-h-screen flex flex-col">
    <!-- Header Section -->
    <header class="bg-[#006A71] text-[#F2EFE7] py-6">
        <div class="container mx-auto text-center">
            <div class="logo-container">
                <img src="/HistoryFlow/assets/images/logo-blue.png" alt="HistoryFlow Logo" width="150" height="50" class="logo" loading="lazy">
            </div>
            <h1 class="text-4xl font-bold">Password Recovery</h1>
            <p class="text-lg mt-2">Reset your password securely</p>
        </div>
    </header>

    <!-- Recovery Form Section -->
    <main class="flex-grow">
        <section class="py-12">
            <div class="container mx-auto max-w-md bg-white p-6 rounded-lg shadow-md">
                <h2 class="form-title">Reset Your Password</h2>
                
                <!-- Error Container -->
                <div id="errorContainer" class="alert-box alert-error hidden" role="alert" aria-live="polite"></div>
                
                <form id="recoveryForm" class="space-y-4">
                    <!-- Email Field -->
                    <div>
                        <label for="email" class="block text-[#006A71]/80 mb-1">Email Address</label>
                        <input
                            type="email"
                            id="email"
                            name="email"
                            class="w-full px-4 py-2 border border-[#9ACBD0] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#48A6A7]"
                            placeholder="your@email.com"
                            required
                            autocomplete="email"
                            aria-describedby="emailError"
                            autofocus
                        >
                        <div id="emailError" class="error-message" role="alert" hidden></div>
                    </div>

                    <!-- Security Question -->
                    <div>
                        <label for="securityQuestion" class="block text-[#006A71]/80 mb-1">Security Question</label>
                        <select
                            id="securityQuestion"
                            name="securityQuestion"
                            class="w-full px-4 py-2 border border-[#9ACBD0] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#48A6A7]"
                            required
                            aria-describedby="questionError"
                        >
                            <option value="">Select a security question</option>
                            <option value="pet">What was your first pet's name?</option>
                            <option value="city">In which city were you born?</option>
                            <option value="school">What was the name of your first school?</option>
                        </select>
                        <div id="questionError" class="error-message" role="alert" hidden></div>
                    </div>

                    <!-- Security Answer -->
                    <div>
                        <label for="securityAnswer" class="block text-[#006A71]/80 mb-1">Your Answer</label>
                        <input
                            type="text"
                            id="securityAnswer"
                            name="securityAnswer"
                            class="w-full px-4 py-2 border border-[#9ACBD0] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#48A6A7]"
                            placeholder="Enter your answer"
                            required
                            aria-describedby="answerError"
                        >
                        <div id="answerError" class="error-message" role="alert" hidden></div>
                    </div>

                    <!-- Submit Button -->
                    <div class="button-container">
                        <button 
                            type="submit" 
                            id="resetButton"
                            class="w-full bg-[#006A71] text-white py-2 rounded-lg hover:bg-[#48A6A7] transition-colors"
                            aria-label="Reset password">
                            <span>Reset Password</span>
                            <div class="spinner hidden"></div>
                        </button>
                    </div>
                </form>

                <!-- Back to Login Link -->
                <div class="mt-4 text-center">
                    <a href="login.html" class="text-[#48A6A7] hover:underline" aria-label="Back to login page">Back to Login</a>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer Section -->
    <footer class="bg-[#006A71] text-[#F2EFE7] py-4 mt-auto">
        <div class="container mx-auto text-center">
            <p>&copy; 2025 HistoryFlow. All rights reserved.</p>
        </div>
    </footer>
</body>
</html>